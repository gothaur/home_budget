{% extends '__base_view__.html' %}
{% load custom_filters %}
{% block title %}
  Podsumowanie
{% endblock %}
{% block body %}
  <div class="card mb-3">
    <div class="card-body">
      <table class="table table-borderless table-hover">
        <thead class="thead-dark">
        <tr>
          <th style="width: 33%">Przych√≥d</th>
          <th style="width: 33%">Wydatki</th>
          <th style="width: 33%">Saldo</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>{{ total_income }}</td>
          <td>{{ total_expenses }}</td>
          {% if total_savings < 0 %}
            <td style="color: red">{{ total_savings }}</td>
          {% else %}
            <td style="color: green">{{ total_savings }}</td>
          {% endif %}
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="card mb-3">
    <div class="card-body">
      <table class="table table-borderless table-hover table-sm table-responsive">
        <thead class="thead-dark">
        <tr>
          <th style="width: 33%">Kategoria</th>
          {% for month in months %}
            <th style="width: 33%">{{ month|date:"F" }}</th>
          {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for res in result %}
          <tr>
            <td>{{ categories|index:forloop.counter0 }}</td>
            {% for counter in res|entry_num_array %}
              <td>{{res|index:counter}}</td>
            {% endfor %}
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
