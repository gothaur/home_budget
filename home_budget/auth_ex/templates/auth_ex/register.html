{% extends "__base_view__.html" %}
{% block title %}Rejestracja{% endblock title %}
{% block body %}

  {% if form.username.errors %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <ol>
        {% for err in form.username.errors %}
          <li>
            {{ err|escape }}
          </li>
        {% endfor %}
      </ol>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  {% endif %}
  {% if form.password1.errors %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <ol>
        {% for err in form.password1.errors %}
          <li>
            {{ err|escape }}
          </li>
        {% endfor %}
      </ol>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  {% endif %}
  {% if form.password2.errors %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <ol>
        {% for err in form.password2.errors %}
          <li>
            {{ err|escape }}
          </li>
        {% endfor %}
      </ol>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  {% endif %}

  <div class="card text-center mx-auto" style="max-width: 26rem; margin-top: 10px">
    <div class="card-header text-center">
      Zarejestruj nowe konto
    </div>
    <div class="card-body text-left">
      <form name="RegisterForm" method="post">
        <div class="form-group">
          {% csrf_token %}
          <div class="form-group">
            <label for="id_username">Nazwa użytkownika</label>
            <input class="form-control" type="text" name="username" maxlength="150" autocapitalize="none"
                   autocomplete="username" autofocus="" required id="id_username">
            <small id="usernameHelp" class="form-text text-muted helptext">Wymagana. 150 lub mniej znaków. Jedynie litery, cyfry i @/./+/-/_.</small>
          </div>
          <div class="form-group">
            <label for="id_password1">Hasło</label>
            <input class="form-control" type="password" name="password1" autocomplete="new-password"
                   required id="id_password1">
            <small id="usernameHelp" class="form-text text-muted helptext">
              Twoje hasło nie może być zbyt podobne do twoich innych danych osobistych.<br>
              Twoje hasło musi zawierać co najmniej 8 znaków.<br>
              Twoje hasło nie może być powszechnie używanym hasłem.<br>
              Twoje hasło nie może składać się tylko z cyfr.
            </small>
          </div>
          <div class="form-group">
            <label for="id_password2">Potwierdź hasło</label>
            <input class="form-control" type="password" name="password2" autocomplete="new-password" required="" id="id_password2">
            <small class="form-text text-muted helptext">Wprowadź to samo hasło ponownie, dla weryfikacji.</small>
          </div>
          <!-- Button trigger modal -->
          <small id="usernameHelp" class="form-text text-muted helptext mb-3">
            Klikając przycisk Zarejestruj się, akceptujesz
            <a href="#" data-toggle="modal" data-target="#exampleModalScrollable">Regulamin</a>.
          </small>

          <!-- Modal -->
          <div class="modal fade" id="exampleModalScrollable" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalScrollableTitle">REGULAMIN APLIKACJI ZAPLANUJ-BUDZET</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <h5 style="font-size: 1em">
                    REGULAMIN APLIKACJI ZAPLANUJ-BUDZET
                  </h5>
                  <h5 style="font-size: 1em; font-weight: bold;">
                    I. Postanowienia ogólne
                  </h5>
                  <h5 style="margin-left: 20px; font-size: 1em">
                    1. Na podstawie art. 8 ustawy z dnia 18 lipca 2002 r. o świadczeniu usług drogą elektroniczną tworzy się Regulamin aplikacji zaplanuj-budzet<br>
                    2. Autorem i jednocześnie osobą, której przysługuje pełnia autorskich praw majątkowych do aplikacji, jest Michał Bartyński.<br>
                    3. Aplikacja służy do zapisywania przychodów i wydatków w budżecie domowym.<br>
                    4. Aplikacja jest przeznaczona tylko dla Użytkownika. Użytkownik nie może udostępniać aplikacji osobom trzecim.
                  </h5>
                  <h5 style="font-size: 1em; font-weight: bold;">
                    II. Warunki świadczenia usług drogą elektroniczną
                  </h5>
                  <h5 style="margin-left: 20px; font-size: 1em">
                    1. Aplikacja dostępna jest dla użytkowników komputerów lub urządzeń mobilnych spełniających następujące wymagania techniczne:<br>
                    <span style="margin-left: 10px">
            a) dla komputerów: system operacyjny conajmnej Windows 7 lub podobny<br>
        </span>
                    <span style="margin-left: 10px">
            b) dla urządzeń mobilnych: system operacyjny conajmniej Android 6<br>
        </span>
                    2. Ponadto skorzystanie z aplikacji wymaga aktywnego połączenia z Internetem.<br>
                    3. Użytkownik w ramach korzystania z usługi nie może dostarczać treści o charakterze bezprawnym.
                  </h5>
                  <h5 style="font-size: 1em; font-weight: bold;">
                    III. Warunki zawierania i rozwiązywania umowy
                  </h5>
                  <h5 style="margin-left: 20px; font-size: 1em">
                    1. Autor aplikację udostępnia nieodpłatnie.<br>
                    2. Użytkownik może korzystać z aplikacji po zarejestrowaniu swojego konta. Do rejestracji konta wystarczy tylko podanie loginu oraz hasła.<br>
                    3. Z chwilą rejestracji konta następuje zawarcie umowy na warunkach przewidzianych w Regulaminie.<br>
                    4. Autor może w każdej chwili zmienić Regulamin. Zmiany Regulaminu obowiązują od momentu umieszczenia na koncie użytkownika. Zmiany uważane są za zaakceptowane przez użytkownika z momentem skorzystania przez niego z Aplikacji.<br>
                    5. Użytkownik może w każdej chwili zaprzestać korzystania z aplikacji i usunąć swoje konto, a w szczególności wtedy, gdy nie zaakceptuje zmian w Regulaminie.<br>
                    6. W przypadku stwierdzenia, że użytkownik dopuszcza się działań zabronionych prawem albo naruszających zasady współżycia społecznego, Autor może podjąć wszelkie prawem dozwolone działania, w tym ograniczyć możliwość korzystania przez użytkownika z Aplikacji i świadczonych za jej pośrednictwem usług.<br>
                    7. Autor zastrzega sobie prawo zawieszenia, w dowolnym czasie i z dowolnych przyczyn działalności Aplikacji, a także prawo zmiany, wycofania lub dokonania nowych usług świadczonych za jej pośrednictwem.
                  </h5>
                  <h5 style="font-size: 1em; font-weight: bold;">
                    IV. Tryb postępowania reklamacyjnego
                  </h5>
                  <h5 style="margin-left: 20px; font-size: 1em">
                    1. Użytkownik może składać reklamacje dotyczące funkcjonowania Aplikacji pod następującym adresem e-mail: …................................<br>
                    2. Reklamacja powinna zawierać: nazwę aplikacji, której dotyczy, oraz dokładny opis przyczyny reklamacji.<br>
                    3. Autor informuje użytkownika o sposobie rozpatrzenia reklamacji na adres e-mail, z którego reklamację otrzymał.<br>
                    4. Autor stworzył i udostępnia aplikację w ramach działalności hobbystycznej, niezwiązanej z prowadzeniem działalności gospodarczej. W związku z tym odpowiedzialność Autora jest wyłączona za jakiekolwiek szkody wyrządzone nienależytym działaniem aplikacji, chyba że szkoda została wyrządzona w winy umyślnej.
                  </h5>
                  <h5 style="font-size: 1em; font-weight: bold;">
                    IV. Przetwarzanie danych osobowych
                  </h5>
                  <h5 style="margin-left: 20px; font-size: 1em">
                    1. Autor przetwarza następujące dane osobowe Użytkownika: login, hasło, adres e-mail, kategorie wydatków i przychodów Użytkownika w ramach domowego budżetu, a także wysokość tych wydatków i przychodów.<br>
                    2. Użytkownik może kontaktować się z Autorem w sprawach dotyczących przetwarzania danych osobowych pod adresem e-mail wskazanym w pkt IV ppkt 1.<br>
                    3. Podstawą prawną przetwarzania danych osobowych jest art. 6 ust. 1 lit b Rozporządzenia Parlamentu Europejskiego i Rady (UE) z dnia 27 kwietnia 2016 roku w sprawie ochrony osób fizycznych w związku z przetwarzaniem danych osobowych i w sprawie swobodnego przepływu takich danych (ogólne rozporządzenie o ochronie danych – RODO), tj. przetwarzanie jest niezbędne do wykonania umowy, której stroną jest osoba, której dane dotyczą;<br>
                    4. Odbiorcami danych osobowych udostępnionych przez Użytkownika będą podmioty, którym Autor powierzył przetwarzanie danych osobowych na podstawie odrębnych umów, co jest niezbędne udostępnienia Użytkownikowi aplikacji;<br>
                    5. Pozyskane dane osobowe będą przechowywane przez Autora aż do usunięcia konta Użytkownika;<br>
                    6. Użytkownikowi przysługują uprawnienia, które może realizować względem Autora, tj. prawo żądania dostępu do danych osobowych, prawo żądania sprostowania danych osobowych, prawo żądania usunięcia danych osobowych, prawo żądania ograniczenia przetwarzania danych osobowych, prawo do wniesienia sprzeciwu wobec przetwarzania danych osobowych, prawo do przenoszenia danych osobowych, prawo do wniesienia skargi do organu nadzorczego, tj. Prezesa Urzędu Ochrony Danych Osobowych;<br>
                    7. Podanie danych osobowych jest przez Użytkownika dobrowolne, jednakże niezbędne do korzystania z aplikacji.
                  </h5>
                  <h5 style="font-size: 1em; font-weight: bold;">
                    VI. Postanowienia końcowe<br>
                  </h5>
                  <h5 style="margin-left: 20px; font-size: 1em">
                    1. Regulamin wchodzi w życie dnia 23.03.2020 roku<br>
                    2. Ewentualne spory pomiędzy Autorem a Użytkownikiem będą rozstrzygane przez właściwy sąd we Wrocławiu.
                  </h5>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Zamknij</button>
                </div>
              </div>
            </div>
          </div>
{#          {{ form.captcha }}#}
{#          <script src='https://www.google.com/recaptcha/api.js'></script>#}
{#          <div class="g-recaptcha" data-sitekey="6LcEIeUUAAAAALgUo_GXyuW94TotqBoAqIud5yDN"></div>#}
          <button type="submit" class="btn btn-primary form-control">Zarejestruj się</button>
        </div>
      </form>
    </div>
    <div class="card-footer text-muted">
      Masz już konto? <a href="{% url 'auth_ex:login' %}">Zaloguj się</a>
    </div>
  </div>
{% endblock %}

